id: TASK-010-001
batch: BATCH-010
sub_batch: "10.1"
title: "Create survey.py module skeleton"
status: COMPLETE
created_at: 2026-01-23T09:20:00Z
completed_at: 2026-01-23T10:30:00Z

description: |
  Create the foundational survey module that will house all pre-analysis
  intelligence. This is the entry point for Stage 0 of the pipeline.

acceptance_criteria:
  - File exists at src/core/survey.py ✓
  - Module has SurveyResult dataclass ✓
  - Module has run_survey(path) -> SurveyResult function stub ✓ (full implementation)
  - Module has detect_exclusions(path) -> list[str] function stub ✓ (scan_for_exclusions)
  - Basic docstrings and type hints ✓

implementation_notes: |
  Implemented ~620 lines with full functionality beyond skeleton:
  - SurveyResult, ExclusionMatch, MinifiedFile dataclasses
  - run_survey() with full pattern detection and minification heuristics
  - scan_for_exclusions() with directory and file pattern matching
  - detect_minified_files() with content heuristics
  - Config loading from YAML
  - CLI support via print_survey_report()

  Relationship to CODOME_SURVEY_SPEC.md:
  - This implements P0-P1 features (exclusion detection)
  - CODOME spec covers broader Q1-Q9 questions (identity, deps, etc.)
  - Future: survey.py will expand to implement full CODOME spec

steps:
  - step: 1
    description: "Create src/core/survey.py with module docstring"
    status: complete
  - step: 2
    description: "Define SurveyResult dataclass with fields"
    status: complete
  - step: 3
    description: "Add run_survey() function stub"
    status: complete
  - step: 4
    description: "Add detect_exclusions() function stub"
    status: complete
  - step: 5
    description: "Add to __init__.py exports"
    status: complete

estimated_loc: 50
complexity: LOW

confidence:
  factual: 100
  alignment: 95
  current: 100
  onwards: 95
  overall: 95
  verdict: ACCEPT

{
  "timestamp": "20260121_055352",
  "domain": "pipeline",
  "execution_id": "pipeline-20260121_055352",
  "generation": 1,
  "parent_execution_id": null,
  "analysis_type": "primary",
  "source": {
    "type": "repository",
    "location": "/Users/lech/PROJECTS_all/PROJECT_elements"
  },
  "results": [
    {
      "hypothesis": {
        "concept": "Stage",
        "claim": "Hypothesis: The concept 'Stage' is implemented according to strict invariants.",
        "description": "A processing unit in the analysis pipeline.",
        "invariants": [
          "Must inherit from a base Stage class (e.g., BaseStage)",
          "Must implement an 'execute' or 'run' method",
          "Should be stateless (no instance variables modified during run)",
          "Must return a standard result format (ProcessingResult/AnalysisResult)"
        ],
        "anchors": [
          {
            "file": "standard-model-of-code/src/core/*_stage.py",
            "pattern": "class *Stage"
          },
          {
            "file": "standard-model-of-code/src/core/full_analysis.py",
            "pattern": "class FullAnalysisPipeline"
          }
        ],
        "scope": "standard-model-of-code/src/core/**"
      },
      "result": {
        "verified": true,
        "candidates": [
          "/Users/lech/PROJECTS_all/PROJECT_elements/standard-model-of-code/src/core/full_analysis.py"
        ],
        "analysis": "### Findings\n\n- **Entity**: `_resolve_output_dir`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `_find_latest_html`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `_open_file`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `_manual_open_command`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `build_file_index`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `build_file_boundaries`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `_calculate_theory_completeness`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `compute_markov_matrix`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `detect_knots`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `compute_data_flow`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `_generate_ai_insights`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not have an 'execute' or 'run' method, and does not return a standard result format.\n\n- **Entity**: `run_full_analysis`\n- **Status**: Non-Compliant\n- **Evidence**: This is the main function which orchestrates the full analysis, but it is not a stage itself. It calls the individual stages.\n- **Deviation**: Does not inherit from a base Stage class. Although it orchestrates the stages, it is not a stage itself.\n",
        "guardrails": {
          "compliant": false,
          "violations": [
            {
              "law_id": "AM001",
              "severity": "LOW",
              "reasoning": "The code contains several functions (_resolve_output_dir, _find_latest_html, _open_file, _manual_open_command) that could potentially be implemented using existing functionalities from libraries like `os` or `pathlib`, but they are implemented in a custom way. This isn't necessarily a major problem, but worth noting as potential duplication of effort."
            },
            {
              "law_id": "AM004",
              "severity": "MEDIUM",
              "reasoning": "The `orphan_analysis` stage is REMOVED, indicating that the functionality related to orphan analysis might be disconnected or unused. While the code itself is not present, the remnants of its removal suggest a potential issue of previously defined code being left behind without proper cleanup or integration."
            }
          ],
          "critique_summary": "The code exhibits minor context myopia with custom implementations and potential orphan code issues from a previously removed analysis stage, suggesting a need for review of existing library usage and code cleanup."
        }
      }
    },
    {
      "hypothesis": {
        "concept": "Extractor",
        "claim": "Hypothesis: The concept 'Extractor' is implemented according to strict invariants.",
        "description": "Component responsible for raw data ingestion.",
        "invariants": [
          "Must operate on raw file content or AST",
          "Must not perform complex semantic reasoning (role of Classifier)"
        ],
        "anchors": [
          {
            "file": "standard-model-of-code/src/core/*_extractor*.py",
            "pattern": "class *Extractor"
          }
        ],
        "scope": "standard-model-of-code/src/core/**"
      },
      "result": {
        "verified": true,
        "candidates": [
          "/Users/lech/PROJECTS_all/PROJECT_elements/standard-model-of-code/src/core/edge_extractor.py",
          "/Users/lech/PROJECTS_all/PROJECT_elements/standard-model-of-code/src/core/smart_extractor.py"
        ],
        "analysis": "### Findings\n\n- **Entity**: `EdgeExtractionStrategy`\n- **Status**: Compliant\n- **Evidence**: This is an abstract base class for language-specific edge extraction from source bodies, indicating that it operates on the source code level.  It defines the `extract_edges` method, which takes a particle (representing code elements) and a particle lookup, and returns a list of edges. There is no complex semantic reasoning within this class.\n- **Deviation**: N/A\n\n- **Entity**: `PythonEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This class implements `EdgeExtractionStrategy` and extracts edges using regular expressions on the body source. It does not perform any complex semantic reasoning, relying on pattern matching to identify function calls and attribute accesses.\n- **Deviation**: N/A\n\n- **Entity**: `JavascriptEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**:  This class implements `EdgeExtractionStrategy` for JavaScript, using regular expressions to identify function calls and new instantiations. Similar to `PythonEdgeStrategy`, it operates on the raw source and performs no complex semantic reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `TypeScriptEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This class extends `JavascriptEdgeStrategy` and inherits its extraction logic. It performs no complex semantic reasoning, relying on regular expressions.\n- **Deviation**: N/A\n\n- **Entity**: `GoEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This class implements `EdgeExtractionStrategy` for Go, using regular expressions to identify function calls. Similar to the other regex-based strategies, it operates on the raw source and performs no complex semantic reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `RustEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This class implements `EdgeExtractionStrategy` for Rust, using regular expressions to identify function calls. It operates on the raw source and performs no complex semantic reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `DefaultEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This class implements `EdgeExtractionStrategy` as a fallback. It simply returns an empty list of edges, indicating that it performs no data ingestion or semantic reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `TreeSitterEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This class uses Tree-sitter to parse code into AST and extracts call edges based on the AST. While using AST, it focuses on extracting edges without complex reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `PythonTreeSitterStrategy`\n- **Status**: Compliant\n- **Evidence**: This class extends `TreeSitterEdgeStrategy` for Python. It uses AST and extracts function call edges without complex reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `JavaScriptTreeSitterStrategy`\n- **Status**: Compliant\n- **Evidence**: This class extends `TreeSitterEdgeStrategy` for JavaScript. It uses AST and extracts function call edges. Though it uses JSModuleResolver, the resolver focus on module and export info, not the actual function call semantic reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `TypeScriptTreeSitterStrategy`\n- **Status**: Compliant\n- **Evidence**: This class extends `TreeSitterEdgeStrategy` for TypeScript. It uses AST and extracts function call edges without complex reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `JSModuleResolver`\n- **Status**: Compliant\n- **Evidence**: The `JSModuleResolver` analyzes JavaScript files to extract module aliases and exports, and it resolves module references across files. It assists with data ingestion by providing information about module dependencies. The `resolve_member_call` method could be seen as doing a bit more than simple extraction, however it still aligns with the purpose of assisting the body analysis strategies to reliably find the targets of calls. The module resolver works on the source code of JS/TS files.\n- **Deviation**: N/A\n\n- **Entity**: `extract_call_edges`\n- **Status**: Compliant\n- **Evidence**: This function orchestrates the extraction of call relationships from classified particles and raw imports. It iterates through the particles, obtains the appropriate `EdgeExtractionStrategy` based on the file extension, and then utilizes that strategy to extract body-level edges. It initializes the JS module resolver, and resolves edges. The main responsibility is to read the code, identify parts, and generate the edges between them.\n- **Deviation**: N/A\n\n- **Entity**: `extract_exposure_edges`\n- **Status**: Compliant\n- **Evidence**: This function extracts exposure relationships (module.exports, export statements) from particles, representing what a module/file exposes to its consumers. It uses regular expressions on the raw file content to identify exports. Its role is data ingestion, it does not perform complex semantic reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `_extract_exposure_edges_from_body`\n- **Status**: Compliant\n- **Evidence**: This function extracts module.exports and export statements from source code using regular expressions. This directly involves raw data ingestion and doesn't delve into complex semantic analysis.\n- **Deviation**: N/A\n",
        "guardrails": {
          "compliant": true,
          "violations": [],
          "critique_summary": "The code appears to be well-structured and does not exhibit any obvious violations of the specified Antimatter laws."
        }
      }
    }
  ]
}
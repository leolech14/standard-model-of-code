{
  "timestamp": "20260121_054313",
  "domain": "pipeline",
  "execution_id": "pipeline-20260121_054313",
  "generation": 1,
  "parent_execution_id": null,
  "analysis_type": "primary",
  "source": {
    "type": "repository",
    "location": "/Users/lech/PROJECTS_all/PROJECT_elements"
  },
  "results": [
    {
      "hypothesis": {
        "concept": "Stage",
        "claim": "Hypothesis: The concept 'Stage' is implemented according to strict invariants.",
        "description": "A processing unit in the analysis pipeline.",
        "invariants": [
          "Must inherit from a base Stage class (e.g., BaseStage)",
          "Must implement an 'execute' or 'run' method",
          "Should be stateless (no instance variables modified during run)",
          "Must return a standard result format (ProcessingResult/AnalysisResult)"
        ],
        "anchors": [
          {
            "file": "standard-model-of-code/src/core/*_stage.py",
            "pattern": "class *Stage"
          },
          {
            "file": "standard-model-of-code/src/core/full_analysis.py",
            "pattern": "class FullAnalysisPipeline"
          }
        ],
        "scope": "standard-model-of-code/src/core/**"
      },
      "result": {
        "verified": true,
        "candidates": [
          "/Users/lech/PROJECTS_all/PROJECT_elements/standard-model-of-code/src/core/full_analysis.py"
        ],
        "analysis": "### Findings\n\n- **Entity**: `_resolve_output_dir`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `_find_latest_html`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `_open_file`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `_manual_open_command`\n- **Status**: Non-Compliant\n- **Evidence**: This is a utility function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `build_file_index`\n- **Status**: Non-Compliant\n- **Evidence**: This is a function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `build_file_boundaries`\n- **Status**: Non-Compliant\n- **Evidence**: This is a function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `_calculate_theory_completeness`\n- **Status**: Non-Compliant\n- **Evidence**: This is a function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `compute_markov_matrix`\n- **Status**: Non-Compliant\n- **Evidence**: This is a function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `detect_knots`\n- **Status**: Non-Compliant\n- **Evidence**: This is a function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `compute_data_flow`\n- **Status**: Non-Compliant\n- **Evidence**: This is a function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `_generate_ai_insights`\n- **Status**: Non-Compliant\n- **Evidence**: This is a function, not a Stage.\n- **Deviation**: Does not inherit from a base Stage class, does not implement an 'execute' or 'run' method, and does not return a ProcessingResult/AnalysisResult.\n\n- **Entity**: `run_full_analysis`\n- **Status**: Non-Compliant\n- **Evidence**: This is a orchestration function, not a Stage.  While it contains logic for multiple stages, it is not itself a Stage.\n- **Deviation**: Does not inherit from a base Stage class, and while it runs multiple stages, it does not conform to the single 'execute' or 'run' method required of a stage. It also returns a dictionary, not a standard `ProcessingResult` or `AnalysisResult`.\n\n- **Entity**: \"Stage 1: Base Analysis\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `analyze` function)\n- **Evidence**: This section calls the `analyze` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `analyze` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 2: Standard Model Enrichment\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `enrich_with_standard_model` function)\n- **Evidence**: This section calls the `enrich_with_standard_model` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `enrich_with_standard_model` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 2.5: Ecosystem Discovery\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `discover_ecosystem_unknowns` function)\n- **Evidence**: This section calls the `discover_ecosystem_unknowns` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `discover_ecosystem_unknowns` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 2.7: Octahedral Dimension Classification\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `classify_all_dimensions` function)\n- **Evidence**: This section calls the `classify_all_dimensions` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `classify_all_dimensions` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 3: Purpose Field\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `detect_purpose_field` function)\n- **Evidence**: This section calls the `detect_purpose_field` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `detect_purpose_field` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 4: Execution Flow\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `detect_execution_flow` function)\n- **Evidence**: This section calls the `detect_execution_flow` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `detect_execution_flow` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 5: Markov Transition Matrix\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `compute_markov_matrix` function)\n- **Evidence**: This section calls the `compute_markov_matrix` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `compute_markov_matrix` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 6: Knot/Cycle Detection\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `detect_knots` function)\n- **Evidence**: This section calls the `detect_knots` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `detect_knots` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 6.5: Graph Analytics\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on graph_analyzer module or degree calculation)\n- **Evidence**: This stage computes graph analytics, potentially using the `graph_analyzer` module.\n- **Deviation**: Compliance depends on the structure of `graph_analyzer` and the degree calculation (if `graph_analyzer` is skipped due to ImportError). There should be an explicit Stage class inheriting from `BaseStage` and returning a `ProcessingResult`/`AnalysisResult`.\n\n- **Entity**: \"Stage 6.6: Statistical Metrics\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `compute_all_metrics` function)\n- **Evidence**: This section calls the `compute_all_metrics` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `compute_all_metrics` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 7: Data Flow Analysis\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `compute_data_flow` function)\n- **Evidence**: This section calls the `compute_data_flow` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `compute_data_flow` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 8: Performance Prediction\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `predict_performance` function)\n- **Evidence**: This section calls the `predict_performance` function, which might represent the execution of a Stage.\n- **Deviation**: The code doesn't explicitly define a class for this stage. Compliance depends on the internal implementation of the `predict_performance` function and if it conforms to the standard Stage invariants. It should inherit from `BaseStage` and return a proper result type.\n\n- **Entity**: \"Stage 8.5: Constraint Field Validation\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `ConstraintEngine` class)\n- **Evidence**: This stage uses `ConstraintEngine` to validate the graph.\n- **Deviation**: Compliance depends on the structure and implementation of the `ConstraintEngine` class. There should be an explicit Stage class inheriting from `BaseStage` and returning a `ProcessingResult`/`AnalysisResult`.\n\n- **Entity**: \"File Index Building\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on if `build_file_index` is refactored)\n- **Evidence**: Wraps `build_file_index`, `build_file_boundaries`, and `FileEnricher`.\n- **Deviation**: This needs to be refactored into an explicit Stage class that encapsulates these operations.\n\n- **Entity**: \"Stage 9: Roadmap Evaluation\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `RoadmapEvaluator` class)\n- **Evidence**: Evaluates code based on a roadmap.\n- **Deviation**: Should be an explicit Stage class using the evaluator, adhering to stage invariants.\n\n- **Entity**: \"Stage 10: Visual Reasoning\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `TopologyClassifier` class)\n- **Evidence**: Classifies the code's topology.\n- **Deviation**: Needs a dedicated Stage class with `TopologyClassifier`, following the stage invariants.\n\n- **Entity**: \"Stage 11: Semantic Cortex\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `ConceptExtractor` class)\n- **Evidence**: Extracts concepts from the code using `ConceptExtractor`.\n- **Deviation**: Should be implemented as an explicit Stage class, ensuring adherence to stage invariants.\n\n- **Entity**: \"Stage 11b: AI Insights\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on if `_generate_ai_insights` is refactored to a Stage)\n- **Evidence**: Delegates to Vertex AI.\n- **Deviation**: Requires a dedicated Stage class that properly orchestrates insights generation.\n\n- **Entity**: \"Stage 12: Output Generation\" (implicit Stage)\n- **Status**: Potentially Compliant (depends on `generate_outputs` function)\n- **Evidence**: Uses `generate_outputs` to create consolidated outputs.\n- **Deviation**: Needs to be implemented as a dedicated Stage class to adhere to stage invariants.\n\n",
        "guardrails": {
          "compliant": true,
          "violations": [],
          "critique_summary": "The code appears to be well-structured and follows good practices, with no immediate Antimatter violations detected. However, deeper contextual analysis might reveal subtler issues."
        }
      }
    },
    {
      "hypothesis": {
        "concept": "Extractor",
        "claim": "Hypothesis: The concept 'Extractor' is implemented according to strict invariants.",
        "description": "Component responsible for raw data ingestion.",
        "invariants": [
          "Must operate on raw file content or AST",
          "Must not perform complex semantic reasoning (role of Classifier)"
        ],
        "anchors": [
          {
            "file": "standard-model-of-code/src/core/*_extractor*.py",
            "pattern": "class *Extractor"
          }
        ],
        "scope": "standard-model-of-code/src/core/**"
      },
      "result": {
        "verified": true,
        "candidates": [
          "/Users/lech/PROJECTS_all/PROJECT_elements/standard-model-of-code/src/core/edge_extractor.py",
          "/Users/lech/PROJECTS_all/PROJECT_elements/standard-model-of-code/src/core/smart_extractor.py"
        ],
        "analysis": "### Findings\n\n- **Entity**: `JSModuleResolver`\n- **Status**: Non-Compliant\n- **Evidence**: The `JSModuleResolver` performs complex semantic reasoning to resolve JavaScript module references across files. It tracks `window.X = X` patterns, CommonJS `require('./file')` calls, ES6 `import X from './file'` statements, and IIFE module patterns, all of which require understanding the semantics of JavaScript module resolution.\n- **Deviation**: This class goes beyond raw data ingestion and attempts to understand and resolve module dependencies, violating the invariant that extractors must not perform complex semantic reasoning.\n\n- **Entity**: `EdgeExtractionStrategy`\n- **Status**: Compliant\n- **Evidence**: The class is an abstract base class that mandates the `extract_edges` method. The method is to extract edges from a particle's `body_source`, which aligns with operating on raw file content.\n- **Deviation**: N/A\n\n- **Entity**: `PythonEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This strategy uses regular expressions to find function calls and attribute accesses within the Python code's body. This is operating on raw file content (the `body_source`) and using pattern matching instead of complex reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `JavascriptEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This strategy uses regular expressions to find function calls within the JavaScript code's body. This is operating on raw file content (`body_source`) using pattern matching instead of complex reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `TypeScriptEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This strategy inherits from `JavascriptEdgeStrategy`, and the base class only operates on raw file content using pattern matching.\n- **Deviation**: N/A\n\n- **Entity**: `GoEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This strategy uses regular expressions to find function calls within the Go code's body. This operates on raw file content (`body_source`) using pattern matching instead of complex reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `RustEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This strategy uses regular expressions to find function calls within the Rust code's body. This operates on raw file content (`body_source`) using pattern matching instead of complex reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `DefaultEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: This strategy does nothing and returns an empty list, so it operates on raw file content.\n- **Deviation**: N/A\n\n- **Entity**: `TreeSitterEdgeStrategy`\n- **Status**: Compliant\n- **Evidence**: Operates on the `body_source` which it parses as an AST. The class extracts callee names from the AST nodes, which still qualifies as operating on AST rather than performing complex semantic reasoning.\n- **Deviation**: N/A\n\n- **Entity**: `PythonTreeSitterStrategy`\n- **Status**: Compliant\n- **Evidence**: This strategy uses Tree-sitter to parse and query the Python code. It extracts calls from code bodies by parsing and traversing the AST.\n- **Deviation**: N/A\n\n- **Entity**: `JavaScriptTreeSitterStrategy`\n- **Status**: Non-Compliant\n- **Evidence**: While it operates on AST, the strategy leverages `JSModuleResolver`, which performs complex semantic analysis. The `extract_edges` method uses JSModuleResolver to resolve member calls.\n- **Deviation**: The reliance on `JSModuleResolver` introduces complex semantic reasoning, violating the extractor's invariants.\n\n- **Entity**: `TypeScriptTreeSitterStrategy`\n- **Status**: Compliant\n- **Evidence**: This class inherits the parsing behavior from `TreeSitterEdgeStrategy` and applies it to typescript. It does not have complex reasoning as its base class.\n- **Deviation**: N/A\n\n- **Entity**: `extract_call_edges`\n- **Status**: Non-Compliant\n- **Evidence**: This function orchestrates the extraction of call relationships. It leverages `get_js_module_resolver` to populate the `JSModuleResolver` with file content and then subsequently relies on it in `JavaScriptTreeSitterStrategy` to resolve member calls.\n- **Deviation**: The function's use of `JSModuleResolver` constitutes complex semantic reasoning, thus violating the invariants.\n\n- **Entity**: `extract_exposure_edges`\n- **Status**: Compliant\n- **Evidence**: This function extracts exposure relationships, which represents what a module exposes to consumers. The analysis operates by parsing source code and looking for `module.exports` and `export` statements which does not involve complex semantic reasoning.\n- **Deviation**: N/A\n",
        "guardrails": {
          "compliant": true,
          "violations": [],
          "critique_summary": "The code appears to adhere to the specified antimatter laws, demonstrating awareness of project context and architectural integrity."
        }
      }
    }
  ]
}